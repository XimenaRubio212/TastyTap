<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrito - TastyTap</title>
  <link rel="stylesheet" href="/css/utils/Base.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <div class="main__container">
    <header class="navbar">
      <div class="navbar__logo">
        <img src="/img/TastyTap.png" alt="Logo TastyTap">
        <span class="navbar__brand">TastyTap</span>
      </div>
      <nav class="navbar__menu">
        <a href="/index.html">Inicio</a>
        <a href="/views/user/menu.html">Men√∫</a>
        <a href="/views/user/tienda.html">Tienda</a>
        <a href="/views/user/carrito.html" class="active">Carrito</a>
        <a href="/views/user/perfil.html">Perfil</a>
      </nav>
    </header>

    <main class="main">
      <div class="container">
        <h2 class="section__title">Tu Carrito</h2>

        <div id="carrito-contenido">
          <!-- Aqu√≠ se inyectar√°n los productos -->
        </div>

        <div id="carrito-vacio" class="carrito-vacio" style="display:none;">
          <i class="fas fa-shopping-cart icon-xl"></i>
          <h3>Tu carrito est√° vac√≠o</h3>
          <p>Agrega productos desde la tienda o men√∫.</p>
          <a href="/views/user/tienda.html" class="btn">Ir a la tienda</a>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer__grid">
          <div class="footer__section">
            <h3>Restaurantes Mejor Valorados</h3>
            <a href="#">Camachos</a>
            <a href="#">Domino's</a>
            <a href="#">KFC</a>
            <a href="#">Mc Donald's</a>
            <a href="#">El corral</a>
            <a href="#">Dunkin' Donuts</a>
          </div>
          <div class="footer__section">
            <h3>√önete a Tasty Tap</h3>
            <a href="#">Registra tu restaurante</a>
            <a href="#">Registra tu local</a>
            <a href="#">Haz crecer tu marca</a>
            <a href="#">Promociona tu negocio</a>
          </div>
          <div class="footer__section">
            <h3>S√≠guenos en Redes Sociales</h3>
            <div class="footer__social">
              <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
              <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
              <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            </div>
          </div>
          <div class="footer__section">
            <h3>Contacto</h3>
            <p>üìç Calle 123 #45-67, Bogot√°, Colombia</p>
            <p>üìû +57 320 555 1234</p>
            <p>‚úâÔ∏è contacto@tastytap.com</p>
          </div>
        </div>
        <div class="footer__bottom">
          <p>¬© 2025 TastyTap ‚Äî Todos los derechos reservados üç¥</p>
        </div>
      </div>
    </footer>
  </div>

  <!-- ‚úÖ Script din√°mico del carrito -->
  <script>
    // ‚úÖ Renderizar carrito
    function renderCarrito() {
      const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
      const contenedor = document.getElementById('carrito-contenido');
      const vacio = document.getElementById('carrito-vacio');
      
      if (carrito.length === 0) {
        vacio.style.display = 'block';
        contenedor.innerHTML = '';
        return;
      }

      vacio.style.display = 'none';
      
      // Calcular total
      const total = carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0);

      // Generar HTML
      let html = `
        <div class="carta__grid">
      `;

      carrito.forEach((item, index) => {
        html += `
          <div class="carta__card">
            <img src="${item.imagen}" alt="${item.nombre}" class="carta__imagen">
            <div class="carta__detalles">
              <h4 class="carta__titulo">${item.nombre}</h4>
              <p class="carta__precio">$${item.precio.toLocaleString('es-CO')} COP</p>
            </div>
            <div class="carta__cantidad">
              <input 
                type="number" 
                min="1" 
                value="${item.cantidad}" 
                class="cantidad__input"
                data-index="${index}"
              >
              <button class="btn-eliminar" data-index="${index}">√ó</button>
            </div>
          </div>
        `;
      });

      html += `
          <div class="carta__total">
            <strong>Total: $${total.toLocaleString('es-CO')} COP</strong>
          </div>
          <button class="btn btn__pago" id="btn-pagar">Pagar por Transferencia</button>
        </div>
      `;

      contenedor.innerHTML = html;

      // ‚úÖ Eventos: actualizar cantidad
      document.querySelectorAll('.cantidad__input').forEach(input => {
        input.addEventListener('change', function() {
          const index = this.dataset.index;
          const nuevaCantidad = parseInt(this.value) || 1;
          carrito[index].cantidad = nuevaCantidad;
          localStorage.setItem('carrito', JSON.stringify(carrito));
          renderCarrito();
        });
      });

      // ‚úÖ Eventos: eliminar producto
      document.querySelectorAll('.btn-eliminar').forEach(btn => {
        btn.addEventListener('click', function() {
          const index = this.dataset.index;
          carrito.splice(index, 1);
          localStorage.setItem('carrito', JSON.stringify(carrito));
          renderCarrito();
        });
      });

      // ‚úÖ Evento: pagar
      document.getElementById('btn-pagar')?.addEventListener('click', function() {
        if (carrito.length === 0) return;
        alert('‚úÖ ¬°Pago iniciado! En una versi√≥n real, aqu√≠ integrar√≠amos pasarela de pagos.');
        // localStorage.removeItem('carrito'); // ‚Üê descomenta para vaciar al pagar
        // renderCarrito();
      });
    }

    // ‚úÖ Iniciar
    document.addEventListener('DOMContentLoaded', renderCarrito);
  </script>

  <!-- ‚úÖ Estilos adicionales para el carrito -->
  <style>
    .carrito-vacio {
      text-align: center;
      padding: 3rem 1rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      max-width: 500px;
      margin: 2rem auto;
    }
    .carrito-vacio .icon-xl {
      font-size: 3rem;
      color: #f57c00;
      margin-bottom: 1rem;
    }
    .carrito-vacio h3 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    .carta__grid {
      display: grid;
      gap: 1.5rem;
    }
    .carta__card {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 1px 5px rgba(0,0,0,0.05);
    }
    .carta__imagen {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
    }
    .carta__detalles {
      flex: 1;
    }
    .carta__titulo {
      margin: 0 0 0.25rem;
      font-size: 1.1rem;
    }
    .carta__precio {
      margin: 0;
      color: #f57c00;
      font-weight: bold;
    }
    .carta__cantidad {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .cantidad__input {
      width: 60px;
      padding: 0.25rem;
      text-align: center;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .btn-eliminar {
      width: 24px;
      height: 24px;
      border: none;
      background: #ff5252;
      color: white;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .btn-eliminar:hover {
      background: #d32f2f;
    }
    .carta__total {
      grid-column: 1 / -1;
      text-align: right;
      font-size: 1.2rem;
      font-weight: bold;
      padding: 1rem;
      background-color: #f9f9f9;
      border-radius: 8px;
    }
    .btn__pago {
      grid-column: 1 / -1;
      padding: 0.75rem;
      background-color: #4caf50;
      color: white;
    }
    .btn__pago:hover {
      background-color: #388e3c;
    }
  </style>
</body>
</html>

<!-- <!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrito - TastyTap</title>
  se debe colocar la carpeta css, utils llamando a base.css para que defina las variables
  <link rel="stylesheet" href="/css/utils/Base.css">
  y se llama a la carpeta css llamando a main.css para que las use
  <link rel="stylesheet" href="/css/style.css">
  Estos son fondos de las redes sociales
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <div class="main__container">
    <header class="navbar">
      <div class="navbar__logo">
        <img src="/img/TastyTap.png" alt="Logo TastyTap">
        <span class="navbar__brand">TastyTap</span>
      </div>
      <nav class="navbar__menu">
        <a href="/index.html">Inicio</a>
        <a href="/views/user/menu.html">Men√∫</a>
        <a href="/views/user/tienda.html">Tienda</a>
        <a href="/views/user/carrito.html" class="active">Carrito</a>
        <a href="/views/user/perfil.html">Perfil</a>
      </nav>
    </header>

    <main class="main">
      <div class="container">
        <h2 class="section__title">Tu Carrito</h2>

        <div class="carta__grid">
          <div class="carta__card">
            <img src="/img/burger.jpg" alt="Hamburguesa" class="carta__imagen">
            <div class="carta__detalles">
              <h4 class="carta__titulo">Hamburguesa Santandereano</h4>
              <p class="carta__precio">$12.000 COP</p>
            </div>
            <div class="carta__cantidad">
              <input type="number" value="2" class="cantidad__input">
            </div>
          </div>

          <div class="carta__card">
            <img src="/img/pizza.jpg" alt="Pizza" class="carta__imagen">
            <div class="carta__detalles">
              <h4 class="carta__titulo">Pizza Mexicana</h4>
              <p class="carta__precio">$8.000 COP</p>
            </div>
            <div class="carta__cantidad">
              <input type="number" value="1" class="quantity-input">
            </div>
          </div>

          <div class="carta__total">
            <strong>Total: $20.000 COP</strong>
          </div>

          <button class="btn btn__pago">Pagar por Transferencia</button>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer__grid">
          <div class="footer__section">
            <h3>Restaurantes Mejor Valorados</h3>
            <a href="#">Camachos</a>
            <a href="#">Domino's</a>
            <a href="#">KFC</a>
            <a href="#">Mc Donald's</a>
            <a href="#">El corral</a>
            <a href="#">Dunkin' Donuts</a>
          </div>
          <div class="footer__section">
            <h3>√önete a Tasty Tap</h3>
            <a href="#">Registra tu restaurante</a>
            <a href="#">Registra tu local</a>
            <a href="#">Haz crecer tu marca</a>
            <a href="#">Promociona tu negocio</a>
          </div>
          <div class="footer__section">
            <h3>S√≠guenos en Redes Sociales</h3>
            <div class="footer__social">
              <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
              <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
              <a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
            </div>
          </div>
          <div class="footer__section">
            <h3>Contacto</h3>
            <p>üìç Calle 123 #45-67, Bogot√°, Colombia</p>
            <p>üìû +57 320 555 1234</p>
            <p>‚úâÔ∏è contacto@tastytap.com</p>
          </div>
        </div>
        <div class="footer__bottom">
          <p>¬© 2025 TastyTap ‚Äî Todos los derechos reservados üç¥</p>
        </div>
      </div>
    </footer>
  </div>
</body>
</html> -->